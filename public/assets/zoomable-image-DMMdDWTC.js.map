{"version":3,"file":"zoomable-image-DMMdDWTC.js","sources":["../../node_modules/react-medium-image-zoom/dist/index.js","../../client/src/components/ui/zoomable-image.tsx"],"sourcesContent":["'use client';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction ICompress() {\n    return (React.createElement(\"svg\", { \"aria-hidden\": \"true\", \"data-rmiz-btn-unzoom-icon\": true, fill: \"currentColor\", focusable: \"false\", viewBox: \"0 0 16 16\", xmlns: \"http://www.w3.org/2000/svg\" },\n        React.createElement(\"path\", { d: \"M 14.144531 1.148438 L 9 6.292969 L 9 3 L 8 3 L 8 8 L 13 8 L 13 7 L 9.707031 7 L 14.855469 1.851563 Z M 8 8 L 3 8 L 3 9 L 6.292969 9 L 1.148438 14.144531 L 1.851563 14.855469 L 7 9.707031 L 7 13 L 8 13 Z\" })));\n}\nfunction IEnlarge() {\n    return (React.createElement(\"svg\", { \"aria-hidden\": \"true\", \"data-rmiz-btn-zoom-icon\": true, fill: \"currentColor\", focusable: \"false\", viewBox: \"0 0 16 16\", xmlns: \"http://www.w3.org/2000/svg\" },\n        React.createElement(\"path\", { d: \"M 9 1 L 9 2 L 12.292969 2 L 2 12.292969 L 2 9 L 1 9 L 1 14 L 6 14 L 6 13 L 2.707031 13 L 13 2.707031 L 13 6 L 14 6 L 14 1 Z\" })));\n}\n\nconst testElType = (type, el) => type === el?.tagName?.toUpperCase?.();\nconst testDiv = (el) => testElType('DIV', el) || testElType('SPAN', el);\nconst testImg = (el) => testElType('IMG', el);\nconst testImgLoaded = (el) => el.complete && el.naturalHeight !== 0;\nconst testSvg = (el) => testElType('SVG', el);\nconst getScaleToWindow = ({ height, offset, width }) => {\n    return Math.min((window.innerWidth - offset * 2) / width, (window.innerHeight - offset * 2) / height);\n};\nconst getScaleToWindowMax = ({ containerHeight, containerWidth, offset, targetHeight, targetWidth, }) => {\n    const scale = getScaleToWindow({\n        height: targetHeight,\n        offset,\n        width: targetWidth,\n    });\n    const ratio = targetWidth > targetHeight\n        ? targetWidth / containerWidth\n        : targetHeight / containerHeight;\n    return scale > 1 ? ratio : scale * ratio;\n};\nconst getScale = ({ containerHeight, containerWidth, hasScalableSrc, offset, targetHeight, targetWidth, }) => {\n    if (!containerHeight || !containerWidth) {\n        return 1;\n    }\n    return !hasScalableSrc && targetHeight && targetWidth\n        ? getScaleToWindowMax({\n            containerHeight,\n            containerWidth,\n            offset,\n            targetHeight,\n            targetWidth,\n        })\n        : getScaleToWindow({\n            height: containerHeight,\n            offset,\n            width: containerWidth,\n        });\n};\nconst URL_REGEX = /url(?:\\(['\"]?)(.*?)(?:['\"]?\\))/;\nconst getImgSrc = (imgEl) => {\n    if (imgEl) {\n        if (testImg(imgEl)) {\n            return imgEl.currentSrc;\n        }\n        else if (testDiv(imgEl)) {\n            const bgImg = window.getComputedStyle(imgEl).backgroundImage;\n            if (bgImg) {\n                return URL_REGEX.exec(bgImg)?.[1];\n            }\n        }\n    }\n};\nconst getImgAlt = (imgEl) => {\n    if (imgEl) {\n        if (testImg(imgEl)) {\n            return imgEl.alt ?? undefined;\n        }\n        else {\n            return imgEl.getAttribute('aria-label') ?? undefined;\n        }\n    }\n};\nconst getImgRegularStyle = ({ containerHeight, containerLeft, containerTop, containerWidth, hasScalableSrc, offset, targetHeight, targetWidth, }) => {\n    const scale = getScale({\n        containerHeight,\n        containerWidth,\n        hasScalableSrc,\n        offset,\n        targetHeight,\n        targetWidth,\n    });\n    return {\n        top: containerTop,\n        left: containerLeft,\n        width: containerWidth * scale,\n        height: containerHeight * scale,\n        transform: `translate(0,0) scale(${1 / scale})`,\n    };\n};\nconst parsePosition = ({ position, relativeNum }) => {\n    const positionNum = parseFloat(position);\n    return position.endsWith('%')\n        ? relativeNum * positionNum / 100\n        : positionNum;\n};\nconst getImgObjectFitStyle = ({ containerHeight, containerLeft, containerTop, containerWidth, hasScalableSrc, objectFit, objectPosition, offset, targetHeight, targetWidth, }) => {\n    if (objectFit === 'scale-down') {\n        if (targetWidth <= containerWidth && targetHeight <= containerHeight) {\n            objectFit = 'none';\n        }\n        else {\n            objectFit = 'contain';\n        }\n    }\n    if (objectFit === 'cover' || objectFit === 'contain') {\n        const widthRatio = containerWidth / targetWidth;\n        const heightRatio = containerHeight / targetHeight;\n        const ratio = objectFit === 'cover'\n            ? Math.max(widthRatio, heightRatio)\n            : Math.min(widthRatio, heightRatio);\n        const [posLeft = '50%', posTop = '50%'] = objectPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth * ratio });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight * ratio });\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * ratio * scale,\n            height: targetHeight * ratio * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else if (objectFit === 'none') {\n        const [posLeft = '50%', posTop = '50%'] = objectPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight });\n        const scale = getScale({\n            containerHeight: targetHeight,\n            containerWidth: targetWidth,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * scale,\n            height: targetHeight * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else if (objectFit === 'fill') {\n        const widthRatio = containerWidth / targetWidth;\n        const heightRatio = containerHeight / targetHeight;\n        const ratio = Math.max(widthRatio, heightRatio);\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            width: containerWidth * scale,\n            height: containerHeight * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else {\n        return {};\n    }\n};\nconst getDivImgStyle = ({ backgroundPosition, backgroundSize, containerHeight, containerLeft, containerTop, containerWidth, hasScalableSrc, offset, targetHeight, targetWidth, }) => {\n    if (backgroundSize === 'cover' || backgroundSize === 'contain') {\n        const widthRatio = containerWidth / targetWidth;\n        const heightRatio = containerHeight / targetHeight;\n        const ratio = backgroundSize === 'cover'\n            ? Math.max(widthRatio, heightRatio)\n            : Math.min(widthRatio, heightRatio);\n        const [posLeft = '50%', posTop = '50%'] = backgroundPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth * ratio });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight * ratio });\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * ratio * scale,\n            height: targetHeight * ratio * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else if (backgroundSize === 'auto') {\n        const [posLeft = '50%', posTop = '50%'] = backgroundPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight });\n        const scale = getScale({\n            containerHeight: targetHeight,\n            containerWidth: targetWidth,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * scale,\n            height: targetHeight * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n    else {\n        const [sizeW = '50%', sizeH = '50%'] = backgroundSize.split(' ');\n        const sizeWidth = parsePosition({ position: sizeW, relativeNum: containerWidth });\n        const sizeHeight = parsePosition({ position: sizeH, relativeNum: containerHeight });\n        const widthRatio = sizeWidth / targetWidth;\n        const heightRatio = sizeHeight / targetHeight;\n        const ratio = Math.min(widthRatio, heightRatio);\n        const [posLeft = '50%', posTop = '50%'] = backgroundPosition.split(' ');\n        const posX = parsePosition({ position: posLeft, relativeNum: containerWidth - targetWidth * ratio });\n        const posY = parsePosition({ position: posTop, relativeNum: containerHeight - targetHeight * ratio });\n        const scale = getScale({\n            containerHeight: targetHeight * ratio,\n            containerWidth: targetWidth * ratio,\n            hasScalableSrc,\n            offset,\n            targetHeight,\n            targetWidth,\n        });\n        return {\n            top: containerTop + posY,\n            left: containerLeft + posX,\n            width: targetWidth * ratio * scale,\n            height: targetHeight * ratio * scale,\n            transform: `translate(0,0) scale(${1 / scale})`,\n        };\n    }\n};\nconst SRC_SVG_REGEX = /\\.svg$/i;\nconst getStyleModalImg = ({ hasZoomImg, imgSrc, isSvg, isZoomed, loadedImgEl, offset, shouldRefresh, targetEl, }) => {\n    const hasScalableSrc = isSvg ||\n        imgSrc?.slice?.(0, 18) === 'data:image/svg+xml' ||\n        hasZoomImg ||\n        !!(imgSrc && SRC_SVG_REGEX.test(imgSrc));\n    const imgRect = targetEl.getBoundingClientRect();\n    const targetElComputedStyle = window.getComputedStyle(targetEl);\n    const isDivImg = loadedImgEl != null && testDiv(targetEl);\n    const isImgObjectFit = loadedImgEl != null && !isDivImg;\n    const styleImgRegular = getImgRegularStyle({\n        containerHeight: imgRect.height,\n        containerLeft: imgRect.left,\n        containerTop: imgRect.top,\n        containerWidth: imgRect.width,\n        hasScalableSrc,\n        offset,\n        targetHeight: loadedImgEl?.naturalHeight || imgRect.height,\n        targetWidth: loadedImgEl?.naturalWidth || imgRect.width,\n    });\n    const styleImgObjectFit = isImgObjectFit\n        ? getImgObjectFitStyle({\n            containerHeight: imgRect.height,\n            containerLeft: imgRect.left,\n            containerTop: imgRect.top,\n            containerWidth: imgRect.width,\n            hasScalableSrc,\n            objectFit: targetElComputedStyle.objectFit,\n            objectPosition: targetElComputedStyle.objectPosition,\n            offset,\n            targetHeight: loadedImgEl?.naturalHeight || imgRect.height,\n            targetWidth: loadedImgEl?.naturalWidth || imgRect.width,\n        })\n        : undefined;\n    const styleDivImg = isDivImg\n        ? getDivImgStyle({\n            backgroundPosition: targetElComputedStyle.backgroundPosition,\n            backgroundSize: targetElComputedStyle.backgroundSize,\n            containerHeight: imgRect.height,\n            containerLeft: imgRect.left,\n            containerTop: imgRect.top,\n            containerWidth: imgRect.width,\n            hasScalableSrc,\n            offset,\n            targetHeight: loadedImgEl?.naturalHeight || imgRect.height,\n            targetWidth: loadedImgEl?.naturalWidth || imgRect.width,\n        })\n        : undefined;\n    const style = Object.assign({}, styleImgRegular, styleImgObjectFit, styleDivImg);\n    if (isZoomed) {\n        const viewportX = window.innerWidth / 2;\n        const viewportY = window.innerHeight / 2;\n        const childCenterX = parseFloat(String(style.left || 0)) + (parseFloat(String(style.width || 0)) / 2);\n        const childCenterY = parseFloat(String(style.top || 0)) + (parseFloat(String(style.height || 0)) / 2);\n        const translateX = viewportX - childCenterX;\n        const translateY = viewportY - childCenterY;\n        if (shouldRefresh) {\n            style.transitionDuration = '0.01ms';\n        }\n        style.transform = `translate(${translateX}px,${translateY}px) scale(1)`;\n    }\n    return style;\n};\nconst getStyleGhost = (imgEl) => {\n    if (!imgEl) {\n        return {};\n    }\n    if (testSvg(imgEl)) {\n        const parentEl = imgEl.parentElement;\n        const rect = imgEl.getBoundingClientRect();\n        if (parentEl) {\n            const parentRect = parentEl.getBoundingClientRect();\n            return {\n                height: rect.height,\n                left: parentRect.left - rect.left,\n                top: parentRect.top - rect.top,\n                width: rect.width,\n            };\n        }\n        else {\n            return {\n                height: rect.height,\n                left: rect.left,\n                width: rect.width,\n                top: rect.top,\n            };\n        }\n    }\n    else {\n        return {\n            height: imgEl.offsetHeight,\n            left: imgEl.offsetLeft,\n            width: imgEl.offsetWidth,\n            top: imgEl.offsetTop,\n        };\n    }\n};\nconst adjustSvgIDs = (svgEl) => {\n    const newIdSuffix = '-zoom';\n    const attrs = [\n        'clip-path',\n        'fill',\n        'mask',\n        'marker-start',\n        'marker-mid',\n        'marker-end',\n    ];\n    const idMap = new Map();\n    if (svgEl.hasAttribute('id')) {\n        const oldId = svgEl.id;\n        const newId = oldId + newIdSuffix;\n        idMap.set(oldId, newId);\n        svgEl.id = newId;\n    }\n    svgEl.querySelectorAll('[id]').forEach(el => {\n        const oldId = el.id;\n        const newId = oldId + newIdSuffix;\n        idMap.set(oldId, newId);\n        el.id = newId;\n    });\n    idMap.forEach((newId, oldId) => {\n        const urlOldID = `url(#${oldId})`;\n        const urlNewID = `url(#${newId})`;\n        const attrsQuery = attrs.map(attr => `[${attr}=\"${urlOldID}\"]`).join(', ');\n        svgEl.querySelectorAll(attrsQuery).forEach(usedEl => {\n            attrs.forEach(attr => {\n                if (usedEl.getAttribute(attr) === urlOldID) {\n                    usedEl.setAttribute(attr, urlNewID);\n                }\n            });\n        });\n    });\n    svgEl.querySelectorAll('style').forEach(styleEl => {\n        idMap.forEach((newId, oldId) => {\n            if (styleEl.textContent) {\n                styleEl.textContent = styleEl.textContent.replaceAll(`#${oldId}`, `#${newId}`);\n            }\n        });\n    });\n};\n\nconst IMAGE_QUERY = ['img', 'svg', '[role=\"img\"]', '[data-zoom]']\n    .map(x => `${x}:not([aria-hidden=\"true\"])`)\n    .join(',');\nconst defaultBodyAttrs = {\n    overflow: '',\n    width: '',\n};\nfunction Controlled(props) {\n    return React.createElement(ControlledBase, { ...props });\n}\nclass ControlledBase extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            id: '',\n            isZoomImgLoaded: false,\n            loadedImgEl: undefined,\n            modalState: \"UNLOADED\",\n            shouldRefresh: false,\n            styleGhost: {},\n        };\n        this.refContent = React.createRef();\n        this.refDialog = React.createRef();\n        this.refModalContent = React.createRef();\n        this.refModalImg = React.createRef();\n        this.refWrap = React.createRef();\n        this.imgEl = null;\n        this.isScaling = false;\n        this.prevBodyAttrs = defaultBodyAttrs;\n        this.styleModalImg = {};\n        this.handleModalStateChange = (prevModalState) => {\n            const { modalState } = this.state;\n            if (prevModalState !== \"LOADING\" && modalState === \"LOADING\") {\n                this.loadZoomImg();\n                window.addEventListener('resize', this.handleResize, { passive: true });\n                window.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n                window.addEventListener('touchmove', this.handleTouchMove, { passive: true });\n                window.addEventListener('touchend', this.handleTouchEnd, { passive: true });\n                window.addEventListener('touchcancel', this.handleTouchCancel, { passive: true });\n                document.addEventListener('keydown', this.handleKeyDown, true);\n            }\n            else if (prevModalState !== \"LOADED\" && modalState === \"LOADED\") {\n                window.addEventListener('wheel', this.handleWheel, { passive: true });\n            }\n            else if (prevModalState !== \"UNLOADING\" && modalState === \"UNLOADING\") {\n                this.ensureImgTransitionEnd();\n                window.removeEventListener('wheel', this.handleWheel);\n                window.removeEventListener('touchstart', this.handleTouchStart);\n                window.removeEventListener('touchmove', this.handleTouchMove);\n                window.removeEventListener('touchend', this.handleTouchEnd);\n                window.removeEventListener('touchcancel', this.handleTouchCancel);\n                document.removeEventListener('keydown', this.handleKeyDown, true);\n            }\n            else if (prevModalState !== \"UNLOADED\" && modalState === \"UNLOADED\") {\n                this.bodyScrollEnable();\n                window.removeEventListener('resize', this.handleResize);\n                this.refModalImg.current?.removeEventListener?.('transitionend', this.handleImgTransitionEnd);\n                this.refDialog.current?.close?.();\n            }\n        };\n        this.getDialogContainer = () => {\n            let el = document.querySelector('[data-rmiz-portal]');\n            if (el == null) {\n                el = document.createElement('div');\n                el.setAttribute('data-rmiz-portal', '');\n                document.body.appendChild(el);\n            }\n            return el;\n        };\n        this.setId = () => {\n            const gen4 = () => Math.random().toString(16).slice(-4);\n            this.setState({ id: gen4() + gen4() + gen4() });\n        };\n        this.setAndTrackImg = () => {\n            const contentEl = this.refContent.current;\n            if (!contentEl)\n                return;\n            this.imgEl = contentEl.querySelector(IMAGE_QUERY);\n            if (this.imgEl) {\n                this.contentNotFoundChangeObserver?.disconnect?.();\n                this.imgEl.addEventListener('load', this.handleImgLoad);\n                this.imgEl.addEventListener('click', this.handleZoom);\n                if (!this.state.loadedImgEl) {\n                    this.handleImgLoad();\n                }\n                this.imgElResizeObserver = new ResizeObserver(entries => {\n                    const entry = entries[0];\n                    if (entry?.target) {\n                        this.imgEl = entry.target;\n                        this.setState({ styleGhost: getStyleGhost(this.imgEl) });\n                    }\n                });\n                this.imgElResizeObserver.observe(this.imgEl);\n                if (!this.contentChangeObserver) {\n                    this.contentChangeObserver = new MutationObserver(() => {\n                        this.setState({ styleGhost: getStyleGhost(this.imgEl) });\n                    });\n                    this.contentChangeObserver.observe(contentEl, { attributes: true, childList: true, subtree: true });\n                }\n            }\n            else if (!this.contentNotFoundChangeObserver) {\n                this.contentNotFoundChangeObserver = new MutationObserver(this.setAndTrackImg);\n                this.contentNotFoundChangeObserver.observe(contentEl, { childList: true, subtree: true });\n            }\n        };\n        this.handleIfZoomChanged = (prevIsZoomed) => {\n            const { isZoomed } = this.props;\n            if (!prevIsZoomed && isZoomed) {\n                this.zoom();\n            }\n            else if (prevIsZoomed && !isZoomed) {\n                this.unzoom();\n            }\n        };\n        this.handleImgLoad = () => {\n            const imgSrc = getImgSrc(this.imgEl);\n            if (!imgSrc)\n                return;\n            const img = new Image();\n            if (testImg(this.imgEl)) {\n                img.sizes = this.imgEl.sizes;\n                img.srcset = this.imgEl.srcset;\n                img.crossOrigin = this.imgEl.crossOrigin;\n            }\n            img.src = imgSrc;\n            const setLoaded = () => {\n                this.setState({\n                    loadedImgEl: img,\n                    styleGhost: getStyleGhost(this.imgEl),\n                });\n            };\n            img\n                .decode()\n                .then(setLoaded)\n                .catch(() => {\n                if (testImgLoaded(img)) {\n                    setLoaded();\n                    return;\n                }\n                img.onload = setLoaded;\n            });\n        };\n        this.handleZoom = () => {\n            if (this.hasImage()) {\n                this.props.onZoomChange?.(true);\n            }\n        };\n        this.handleUnzoom = () => {\n            this.props.onZoomChange?.(false);\n        };\n        this.handleBtnUnzoomClick = (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.handleUnzoom();\n        };\n        this.handleDialogCancel = (e) => {\n            e.preventDefault();\n        };\n        this.handleDialogClick = (e) => {\n            if (e.target === this.refModalContent.current || e.target === this.refModalImg.current) {\n                e.stopPropagation();\n                this.handleUnzoom();\n            }\n        };\n        this.handleDialogClose = (e) => {\n            e.stopPropagation();\n            this.handleUnzoom();\n        };\n        this.handleKeyDown = (e) => {\n            if (e.key === 'Escape' || e.keyCode === 27) {\n                e.preventDefault();\n                e.stopPropagation();\n                this.handleUnzoom();\n            }\n        };\n        this.handleWheel = (e) => {\n            if (e.ctrlKey)\n                return;\n            e.stopPropagation();\n            queueMicrotask(() => {\n                this.handleUnzoom();\n            });\n        };\n        this.handleTouchStart = (e) => {\n            if (e.touches.length > 1) {\n                this.isScaling = true;\n                return;\n            }\n            if (e.changedTouches.length === 1 && e.changedTouches[0]) {\n                this.touchYStart = e.changedTouches[0].screenY;\n            }\n        };\n        this.handleTouchMove = (e) => {\n            const browserScale = window.visualViewport?.scale ?? 1;\n            if (this.props.canSwipeToUnzoom &&\n                !this.isScaling &&\n                browserScale <= 1 && this.touchYStart != null &&\n                e.changedTouches[0]) {\n                this.touchYEnd = e.changedTouches[0].screenY;\n                const max = Math.max(this.touchYStart, this.touchYEnd);\n                const min = Math.min(this.touchYStart, this.touchYEnd);\n                const delta = Math.abs(max - min);\n                if (delta > this.props.swipeToUnzoomThreshold) {\n                    this.touchYStart = undefined;\n                    this.touchYEnd = undefined;\n                    this.handleUnzoom();\n                }\n            }\n        };\n        this.handleTouchEnd = () => {\n            this.isScaling = false;\n            this.touchYStart = undefined;\n            this.touchYEnd = undefined;\n        };\n        this.handleTouchCancel = () => {\n            this.isScaling = false;\n            this.touchYStart = undefined;\n            this.touchYEnd = undefined;\n        };\n        this.handleResize = () => {\n            this.setState({ shouldRefresh: true });\n        };\n        this.hasImage = () => {\n            return this.imgEl &&\n                (this.state.loadedImgEl || testSvg(this.imgEl)) &&\n                window.getComputedStyle(this.imgEl).display !== 'none';\n        };\n        this.zoom = () => {\n            this.bodyScrollDisable();\n            this.refDialog.current?.showModal?.();\n            this.refModalImg.current?.addEventListener?.('transitionend', this.handleImgTransitionEnd);\n            this.setState({ modalState: \"LOADING\" });\n        };\n        this.unzoom = () => {\n            this.setState({ modalState: \"UNLOADING\" });\n        };\n        this.handleImgTransitionEnd = () => {\n            clearTimeout(this.timeoutTransitionEnd);\n            if (this.state.modalState === \"LOADING\") {\n                this.setState({ modalState: \"LOADED\" });\n            }\n            else if (this.state.modalState === \"UNLOADING\") {\n                this.setState({ shouldRefresh: false, modalState: \"UNLOADED\" });\n            }\n        };\n        this.ensureImgTransitionEnd = () => {\n            if (this.refModalImg.current) {\n                const td = window.getComputedStyle(this.refModalImg.current).transitionDuration;\n                const tdFloat = parseFloat(td);\n                if (tdFloat) {\n                    const tdMs = tdFloat * (td.endsWith('ms') ? 1 : 1000) + 50;\n                    this.timeoutTransitionEnd = setTimeout(this.handleImgTransitionEnd, tdMs);\n                }\n            }\n        };\n        this.bodyScrollDisable = () => {\n            this.prevBodyAttrs = {\n                overflow: document.body.style.overflow,\n                width: document.body.style.width,\n            };\n            const clientWidth = document.body.clientWidth;\n            document.body.style.overflow = 'hidden';\n            document.body.style.width = `${clientWidth}px`;\n        };\n        this.bodyScrollEnable = () => {\n            document.body.style.width = this.prevBodyAttrs.width;\n            document.body.style.overflow = this.prevBodyAttrs.overflow;\n            this.prevBodyAttrs = defaultBodyAttrs;\n        };\n        this.loadZoomImg = () => {\n            const { props: { zoomImg } } = this;\n            const zoomImgSrc = zoomImg?.src;\n            if (zoomImgSrc) {\n                const img = new Image();\n                img.sizes = zoomImg?.sizes ?? '';\n                img.srcset = zoomImg?.srcSet ?? '';\n                img.crossOrigin = zoomImg?.crossOrigin ?? undefined;\n                img.src = zoomImgSrc;\n                const setLoaded = () => {\n                    this.setState({ isZoomImgLoaded: true });\n                };\n                img\n                    .decode()\n                    .then(setLoaded)\n                    .catch(() => {\n                    if (testImgLoaded(img)) {\n                        setLoaded();\n                        return;\n                    }\n                    img.onload = setLoaded;\n                });\n            }\n        };\n        this.UNSAFE_handleSvg = () => {\n            const { imgEl, refModalImg, styleModalImg } = this;\n            if (testSvg(imgEl)) {\n                const svgEl = imgEl.cloneNode(true);\n                adjustSvgIDs(svgEl);\n                svgEl.style.width = `${styleModalImg.width || 0}px`;\n                svgEl.style.height = `${styleModalImg.height || 0}px`;\n                svgEl.addEventListener('click', this.handleUnzoom);\n                refModalImg.current?.firstChild?.remove?.();\n                refModalImg.current?.appendChild?.(svgEl);\n            }\n        };\n    }\n    render() {\n        const { handleBtnUnzoomClick, handleDialogCancel, handleDialogClick, handleDialogClose, handleUnzoom, handleZoom, imgEl, props: { a11yNameButtonUnzoom, a11yNameButtonZoom, children, classDialog, IconUnzoom, IconZoom, isZoomed, wrapElement: WrapElement, ZoomContent, zoomImg, zoomMargin, }, refContent, refDialog, refModalContent, refModalImg, refWrap, state: { id, isZoomImgLoaded, loadedImgEl, modalState, shouldRefresh, styleGhost, }, } = this;\n        const idModal = `rmiz-modal-${id}`;\n        const idModalImg = `rmiz-modal-img-${id}`;\n        const isDiv = testDiv(imgEl);\n        const isImg = testImg(imgEl);\n        const isSvg = testSvg(imgEl);\n        const imgAlt = getImgAlt(imgEl);\n        const imgSrc = getImgSrc(imgEl);\n        const imgSizes = isImg ? imgEl.sizes : undefined;\n        const imgSrcSet = isImg ? imgEl.srcset : undefined;\n        const imgCrossOrigin = isImg ? imgEl.crossOrigin : undefined;\n        const hasZoomImg = !!zoomImg?.src;\n        const hasImage = this.hasImage();\n        const labelBtnZoom = imgAlt\n            ? `${a11yNameButtonZoom}: ${imgAlt}`\n            : a11yNameButtonZoom;\n        const isModalActive = modalState === \"LOADING\" ||\n            modalState === \"LOADED\";\n        const dataContentState = hasImage ? 'found' : 'not-found';\n        const dataOverlayState = modalState === \"UNLOADED\" || modalState === \"UNLOADING\"\n            ? 'hidden'\n            : 'visible';\n        const styleContent = {\n            visibility: modalState === \"UNLOADED\" ? 'visible' : 'hidden',\n        };\n        this.styleModalImg = hasImage\n            ? getStyleModalImg({\n                hasZoomImg,\n                imgSrc,\n                isSvg,\n                isZoomed: isZoomed && isModalActive,\n                loadedImgEl,\n                offset: zoomMargin,\n                shouldRefresh,\n                targetEl: imgEl,\n            })\n            : {};\n        let modalContent = null;\n        if (hasImage) {\n            const modalImg = isImg || isDiv\n                ? React.createElement(\"img\", { alt: imgAlt, crossOrigin: imgCrossOrigin, sizes: imgSizes, src: imgSrc, srcSet: imgSrcSet, ...isZoomImgLoaded && modalState === \"LOADED\" ? zoomImg : {}, \"data-rmiz-modal-img\": \"\", height: this.styleModalImg.height || undefined, id: idModalImg, ref: refModalImg, style: this.styleModalImg, width: this.styleModalImg.width || undefined })\n                : isSvg\n                    ? React.createElement(\"div\", { \"data-rmiz-modal-img\": true, ref: refModalImg, style: this.styleModalImg })\n                    : null;\n            const modalBtnUnzoom = React.createElement(\"button\", { \"aria-label\": a11yNameButtonUnzoom, \"data-rmiz-btn-unzoom\": \"\", onClick: handleBtnUnzoomClick, type: \"button\" },\n                React.createElement(IconUnzoom, null));\n            modalContent = ZoomContent\n                ? React.createElement(ZoomContent, { buttonUnzoom: modalBtnUnzoom, modalState: modalState, img: modalImg, onUnzoom: handleUnzoom })\n                : React.createElement(React.Fragment, null,\n                    modalImg,\n                    modalBtnUnzoom);\n        }\n        return (React.createElement(WrapElement, { \"aria-owns\": idModal, \"data-rmiz\": \"\", ref: refWrap },\n            React.createElement(WrapElement, { \"data-rmiz-content\": dataContentState, ref: refContent, style: styleContent }, children),\n            hasImage && React.createElement(WrapElement, { \"data-rmiz-ghost\": \"\", style: styleGhost },\n                React.createElement(\"button\", { \"aria-label\": labelBtnZoom, \"data-rmiz-btn-zoom\": \"\", onClick: handleZoom, type: \"button\" },\n                    React.createElement(IconZoom, null))),\n            hasImage && ReactDOM.createPortal(React.createElement(\"dialog\", { \"aria-labelledby\": idModalImg, \"aria-modal\": \"true\", className: classDialog, \"data-rmiz-modal\": \"\", id: idModal, onClick: handleDialogClick, onClose: handleDialogClose, onCancel: handleDialogCancel, ref: refDialog, role: \"dialog\" },\n                React.createElement(\"div\", { \"data-rmiz-modal-overlay\": dataOverlayState }),\n                React.createElement(\"div\", { \"data-rmiz-modal-content\": \"\", ref: refModalContent }, modalContent)), this.getDialogContainer())));\n    }\n    componentDidMount() {\n        this.setId();\n        this.setAndTrackImg();\n        this.handleImgLoad();\n        this.UNSAFE_handleSvg();\n    }\n    componentWillUnmount() {\n        if (this.state.modalState !== \"UNLOADED\") {\n            this.bodyScrollEnable();\n        }\n        this.contentChangeObserver?.disconnect?.();\n        this.contentNotFoundChangeObserver?.disconnect?.();\n        this.imgElResizeObserver?.disconnect?.();\n        this.imgEl?.removeEventListener?.('load', this.handleImgLoad);\n        this.imgEl?.removeEventListener?.('click', this.handleZoom);\n        this.refModalImg.current?.removeEventListener?.('transitionend', this.handleImgTransitionEnd);\n        window.removeEventListener('wheel', this.handleWheel);\n        window.removeEventListener('touchstart', this.handleTouchStart);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n        window.removeEventListener('touchcancel', this.handleTouchCancel);\n        window.removeEventListener('resize', this.handleResize);\n        document.removeEventListener('keydown', this.handleKeyDown, true);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        this.handleModalStateChange(prevState.modalState);\n        this.UNSAFE_handleSvg();\n        this.handleIfZoomChanged(prevProps.isZoomed);\n    }\n}\nControlledBase.defaultProps = {\n    a11yNameButtonUnzoom: 'Minimize image',\n    a11yNameButtonZoom: 'Expand image',\n    canSwipeToUnzoom: true,\n    IconUnzoom: ICompress,\n    IconZoom: IEnlarge,\n    swipeToUnzoomThreshold: 10,\n    wrapElement: 'div',\n    zoomMargin: 0,\n};\n\nfunction Uncontrolled(props) {\n    const [isZoomed, setIsZoomed] = React.useState(false);\n    return React.createElement(Controlled, { ...props, isZoomed: isZoomed, onZoomChange: setIsZoomed });\n}\n\nexport { Controlled, Uncontrolled as default };\n","\"use client\"\n\nimport { type ImgHTMLAttributes } from \"react\"\nimport Zoom, { type UncontrolledProps } from \"react-medium-image-zoom\"\nimport { cn } from \"@/lib/utils\"\n\nexport interface ImageZoomProps extends ImgHTMLAttributes<HTMLImageElement> {\n  zoomInProps?: ImgHTMLAttributes<HTMLImageElement>\n  zoomProps?: UncontrolledProps\n  className?: string\n  width?: number\n  height?: number\n}\n\nexport function ImageZoom({\n  zoomInProps,\n  zoomProps,\n  className,\n  children,\n  ...props\n}: ImageZoomProps) {\n  return (\n    <Zoom\n      classDialog={cn(\n        \"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out\",\n        \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\"\n      )}\n      zoomMargin={20}\n      wrapElement=\"span\"\n      {...zoomProps}\n      zoomImg={{\n        className: cn(\n          \"image-rendering-high-quality cursor-zoom-out\", \n          zoomInProps?.className\n        ),\n        ...zoomInProps,\n        src: props.src,\n      }}\n    >\n      {children ?? (\n        <img\n          className={cn(\n            \"cursor-zoom-in rounded-md transition-all\",\n            className\n          )}\n          {...props}\n        />\n      )}\n    </Zoom>\n  )\n}\n"],"names":["ICompress","React","IEnlarge","testElType","type","el","_b","_a","testDiv","testImg","testImgLoaded","testSvg","getScaleToWindow","height","offset","width","getScaleToWindowMax","containerHeight","containerWidth","targetHeight","targetWidth","scale","ratio","getScale","hasScalableSrc","URL_REGEX","getImgSrc","imgEl","bgImg","getImgAlt","getImgRegularStyle","containerLeft","containerTop","parsePosition","position","relativeNum","positionNum","getImgObjectFitStyle","objectFit","objectPosition","widthRatio","heightRatio","posLeft","posTop","posX","posY","getDivImgStyle","backgroundPosition","backgroundSize","sizeW","sizeH","sizeWidth","sizeHeight","SRC_SVG_REGEX","getStyleModalImg","hasZoomImg","imgSrc","isSvg","isZoomed","loadedImgEl","shouldRefresh","targetEl","imgRect","targetElComputedStyle","isDivImg","isImgObjectFit","styleImgRegular","styleImgObjectFit","styleDivImg","style","viewportX","viewportY","childCenterX","childCenterY","translateX","translateY","getStyleGhost","parentEl","rect","parentRect","adjustSvgIDs","svgEl","newIdSuffix","attrs","idMap","oldId","newId","urlOldID","urlNewID","attrsQuery","attr","usedEl","styleEl","IMAGE_QUERY","x","defaultBodyAttrs","Controlled","props","ControlledBase","prevModalState","modalState","_d","_c","gen4","contentEl","entries","entry","prevIsZoomed","img","setLoaded","e","browserScale","max","min","td","tdFloat","tdMs","clientWidth","zoomImg","zoomImgSrc","refModalImg","styleModalImg","_e","handleBtnUnzoomClick","handleDialogCancel","handleDialogClick","handleDialogClose","handleUnzoom","handleZoom","a11yNameButtonUnzoom","a11yNameButtonZoom","children","classDialog","IconUnzoom","IconZoom","WrapElement","ZoomContent","zoomMargin","refContent","refDialog","refModalContent","refWrap","id","isZoomImgLoaded","styleGhost","idModal","idModalImg","isDiv","isImg","imgAlt","imgSizes","imgSrcSet","imgCrossOrigin","hasImage","labelBtnZoom","isModalActive","dataContentState","dataOverlayState","styleContent","modalContent","modalImg","modalBtnUnzoom","ReactDOM","_f","_h","_g","_j","_i","_l","_k","prevProps","prevState","Uncontrolled","setIsZoomed","ImageZoom","zoomInProps","zoomProps","className","jsx","Zoom","cn"],"mappings":"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","x_google_ignoreList":[0]}